# -!- coding: utf-8 -!-
# 大矩形坐标
str1 = [
    [
        [-61.404746, -334.60046],
        [-61.404746, -285.10046],
        [-29.004746000000004, -285.10046],
        [-29.004746000000004, -334.60046]
    ],
    [
        [-29.004746000000004, 62.71999999999997],
        [-29.004746000000004, 112.21999999999997],
        [-25.904746000000003, 112.21999999999997],
        [-25.904746000000003, 62.71999999999997]
    ],
    [
        [-61.404746, -285.10046],
        [-61.404746, -274.10046],
        [-29.004746000000004, -274.10046],
        [-29.004746000000004, -285.10046]
    ],
    [
        [-29.004746000000004, 13.21999999999997],
        [-29.004746000000004, 24.21999999999997],
        [-25.904746000000003, 24.21999999999997],
        [-25.904746000000003, 13.21999999999997]
    ],
    [
        [-63.794746, -292.40046],
        [-63.794746, -259.40046],
        [-31.394746000000005, -259.40046],
        [-31.394746000000005, -292.40046]
    ],
    [
        [-31.394746000000005, 48.99000000000001],
        [-31.394746000000005, 81.99000000000001],
        [-28.294746000000004, 81.99000000000001],
        [-28.294746000000004, 48.99000000000001]
    ],
    [
        [-63.794746, -259.40046],
        [-63.794746, -245.90046],
        [-31.394746000000005, -245.90046],
        [-31.394746000000005, -259.40046]
    ],
    [
        [-55.894746, -449.410547],
        [-55.894746, -251.410547],
        [-47.794745999999996, -251.410547],
        [-47.794745999999996, -449.410547]
    ],
    [
        [-47.794745999999996, 206.000087],
        [-47.794745999999996, 404.000087],
        [-44.694745999999995, 404.000087],
        [-44.694745999999995, 206.000087]
    ],
    [
        [-55.894746, -251.410547],
        [-55.894746, -243.410547],
        [-49.294745999999996, -243.410547],
        [-49.294745999999996, -251.410547]
    ],
    [
        [-58.894746, -449.410547],
        [-58.894746, -416.410547],
        [-26.494746, -416.410547],
        [-26.494746, -449.410547]
    ],
    [
        [-26.494746, 48.59969000000001],
        [-26.494746, 81.59969000000001],
        [-23.394745999999998, 81.59969000000001],
        [-23.394745999999998, 48.59969000000001]
    ],
    [
        [-58.894746, -416.410547],
        [-58.894746, -402.910547],
        [-26.494746, -402.910547],
        [-26.494746, -416.410547]
    ],
    [
        [-9.625248, -446.380488],
        [-9.625248, -330.880488],
        [14.674751999999998, -330.880488],
        [14.674751999999998, -446.380488]
    ],
    [
        [14.674751999999998, 117.54035600000003],
        [14.674751999999998, 233.04035600000003],
        [20.274752, 233.04035600000003],
        [20.274752, 117.54035600000]
    ]
]
# 排布模块坐标
str2 = [
    {
        "model1": [
            [
                39.500001,
                36.390000000000015
            ],
            [
                4,
                7.100000999999999
            ],
            [
                2,
                3.390000000000015
            ],
            [
                8,
                368.20503639000054
            ]
        ],
        "model2":[
            [
                7.100000999999999,
                33
            ],
            [
                1,
                1.5000009999999993
            ],
            [
                2,
                0
            ],
            [
                2,
                49.50003299999997
            ]
        ]
    }
]
# 模块长宽
M1 = [
    # 长
    9,
    # 宽
    5
]
M2 = [
    7,
    5
]
# 排布开始位置 左下:leftDown 左上:leftUp 右上:rightUp 右下:rightDown
site = 'leftUp'
# 最终坐标字典纸
last = {}



def stall_car(stall, car):
    count = 0
    for a in stall:
        print("左下角坐标：", a[0])
        print("左上角坐标：", a[1])
        print("右上角坐标：", a[2])
        print("右下角坐标：", a[3])
        # 排 model
        if car.__len__() > count:
                # model1
                if car[count].get('model1').__len__() != 0:
                    print(count)
                    # 如果从左上开始排布
                    if site == 'leftUp':
                        las = []
                        la = {"modelKey": "model1"}
                        cood = []

                        nu = 0
                        for model1_num_y in range(car[count].get('model1')[2][0]):
                            start_x = a[1][0]
                            start_y = a[1][1] - nu*M1[0]
                            nu += 1
                        # x方向model1排布车位
                            for model1_num_x in range(car[count].get('model1')[1][0]):
                                # 坐标数组
                                coord = []
                                # 左下角坐标
                                leftDown = [start_x, start_y - M1[0]]
                                # 左上角坐标
                                leftUp = [start_x, start_y]
                                # 右上角
                                rightUp = [start_x + M1[1], start_y]
                                # 右下角
                                rightDown = [start_x + M1[1], a[1][1] - M1[0]]
                                coord.append(leftDown)
                                coord.append(leftUp)
                                coord.append(rightUp)
                                coord.append(rightDown)
                                cood.append(coord)
                                start_x = start_x + M1[1]
                        la["cood"] = cood
                        las.append(la)
                        last[str(count)] = las

                    # print(car[count].get('model1'))
                # model2
                # if car[count].get('model2').__len__() != 0:
                #     # 如果从左上开始排布
                #     if site == 'leftUp':
                #         print(car[count].get('model2'))
        count += 1
    return last


print(stall_car(str1, str2))

